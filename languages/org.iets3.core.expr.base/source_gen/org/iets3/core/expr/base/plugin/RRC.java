package org.iets3.core.expr.base.plugin;

/*Generated by MPS */

import jetbrains.mps.smodel.structure.ExtensionPoint;
import jetbrains.mps.internal.collections.runtime.Sequence;
import jetbrains.mps.internal.collections.runtime.ISelector;

public class RRC {

  private static RuntimeResolverConfig config = null;
  private static boolean alreadyTried = false;

  public static RuntimeResolverConfig resolveConfig() {
    if (!(alreadyTried)) {
      ExtensionPoint<RuntimeResolverConfig> ep = new ExtensionPoint<RuntimeResolverConfig>("org.iets3.core.expr.base.runtimeResolverConfig");
      Iterable<RuntimeResolverConfig> sortedMappers = Sequence.fromIterable(ep.getObjects()).sort(new ISelector<RuntimeResolverConfig, Integer>() {
        public Integer select(RuntimeResolverConfig it) {
          return it.getPriorityLevel();
        }
      }, false);
      config = Sequence.fromIterable(sortedMappers).first();
      alreadyTried = true;
    }
    return config;
  }


}
